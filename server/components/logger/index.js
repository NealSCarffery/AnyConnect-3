(function() {
  var config, logLevel, util, winston;

  winston = require('winston');

  require('winston-mongodb').MongoDB;

  config = require('../../config/env');

  util = require('../util');

  logLevel = config.env === 'production' ? 'info' : 'debug';

  winston.add(winston.transports.MongoDB, {
    db: util.constructMongoURI(config.mongo.logDB.username, config.mongo.logDB.password, config.mongo.logDB.hostname, config.mongo.logDB.port, config.mongo.logDB.database),
    collection: config.mongo.logDB.collection,
    level: 'info'
  });

  winston.level = logLevel;

  module.exports = winston;

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvbG9nZ2VyL2luZGV4LmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBLE1BQUE7O0VBQUEsT0FBQSxHQUFVLE9BQUEsQ0FBUSxTQUFSOztFQUNWLE9BQUEsQ0FBUSxpQkFBUixDQUEwQixDQUFDOztFQUMzQixNQUFBLEdBQVMsT0FBQSxDQUFRLGtCQUFSOztFQUNULElBQUEsR0FBTyxPQUFBLENBQVEsU0FBUjs7RUFFUCxRQUFBLEdBQWMsTUFBTSxDQUFDLEdBQVAsS0FBYyxZQUFqQixHQUFtQyxNQUFuQyxHQUErQzs7RUFFMUQsT0FBTyxDQUFDLEdBQVIsQ0FDRSxPQUFPLENBQUMsVUFBVSxDQUFDLE9BRHJCLEVBRUU7SUFDRSxFQUFBLEVBQUksSUFBSSxDQUFDLGlCQUFMLENBQ0YsTUFBTSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsUUFEakIsRUFFRixNQUFNLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxRQUZqQixFQUdGLE1BQU0sQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLFFBSGpCLEVBSUYsTUFBTSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFKakIsRUFLRixNQUFNLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxRQUxqQixDQUROO0lBUUUsVUFBQSxFQUFZLE1BQU0sQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLFVBUmpDO0lBU0UsS0FBQSxFQUFPLE1BVFQ7R0FGRjs7RUFlQSxPQUFPLENBQUMsS0FBUixHQUFnQjs7RUFFaEIsTUFBTSxDQUFDLE9BQVAsR0FBaUI7QUF4QmpCIiwiZmlsZSI6ImNvbXBvbmVudHMvbG9nZ2VyL2luZGV4LmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsid2luc3RvbiA9IHJlcXVpcmUgJ3dpbnN0b24nXG5yZXF1aXJlKCd3aW5zdG9uLW1vbmdvZGInKS5Nb25nb0RCXG5jb25maWcgPSByZXF1aXJlICcuLi8uLi9jb25maWcvZW52J1xudXRpbCA9IHJlcXVpcmUgJy4uL3V0aWwnXG5cbmxvZ0xldmVsID0gaWYgY29uZmlnLmVudiBpcyAncHJvZHVjdGlvbicgdGhlbiAnaW5mbycgZWxzZSAnZGVidWcnXG5cbndpbnN0b24uYWRkKFxuICB3aW5zdG9uLnRyYW5zcG9ydHMuTW9uZ29EQixcbiAge1xuICAgIGRiOiB1dGlsLmNvbnN0cnVjdE1vbmdvVVJJKFxuICAgICAgY29uZmlnLm1vbmdvLmxvZ0RCLnVzZXJuYW1lXG4gICAgICBjb25maWcubW9uZ28ubG9nREIucGFzc3dvcmRcbiAgICAgIGNvbmZpZy5tb25nby5sb2dEQi5ob3N0bmFtZVxuICAgICAgY29uZmlnLm1vbmdvLmxvZ0RCLnBvcnRcbiAgICAgIGNvbmZpZy5tb25nby5sb2dEQi5kYXRhYmFzZVxuICAgIClcbiAgICBjb2xsZWN0aW9uOiBjb25maWcubW9uZ28ubG9nREIuY29sbGVjdGlvblxuICAgIGxldmVsOiAnaW5mbydcbiAgfVxuKVxuXG53aW5zdG9uLmxldmVsID0gbG9nTGV2ZWxcblxubW9kdWxlLmV4cG9ydHMgPSB3aW5zdG9uIl19
